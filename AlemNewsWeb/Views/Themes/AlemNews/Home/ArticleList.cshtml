@{
    Layout = $"~/Views/Themes/{CurrentTheme}/_HomeLayout.cshtml";
    var articleList = QarList<Article>("articleList");
    var subCategoryList = QarList<Articlecategory>("subCategoryList");
    var menuTitle = (ViewData["menuTitle"] ?? string.Empty) as string;
    var menuLink = (ViewData["menuLink"] ?? string.Empty) as string;

    var pageIndex = Convert.ToInt32(ViewData["page"] ?? 0);
    var total = Convert.ToInt32(ViewData["total"] ?? 0);
    var totalPage = Convert.ToInt32(ViewData["totalPage"] ?? 0);

    var categoryId = Convert.ToInt32(ViewData["categoryId"] ?? 0);
    var tagId = Convert.ToInt32(ViewData["tagId"] ?? 0);
    var keyword = (ViewData["keyword"] ?? string.Empty) as string;
}


<div class="rts-events-section section-gap">
        <div class="container">
            <div class="row">
                @foreach (var article in articleList)
                {
                    <div class="col-xl-4 col-md-6">
                        <div class="event-single">
                            <div class="event-picture"><img src="@article?.ThumbnailUrl" alt="@article?.Title">
                            </div>

                            <div class="contents">
                                <a href="/@CurrentLanguage/article/@(article.LatynUrl).html" class="event-title">@article?.Title</a>
                                <p>@article?.ShortDescription</p>
                            </div>
                        </div>
                    </div>
                }
               @if (totalPage > 1)
               {
                   <div class="col-12">
                       <nav id="pagination" class="mt-5 mb-4 d-flex"></nav>
                   </div>
               }
            </div>
            
            
        </div>
    </div>
@if (totalPage > 1)
{
@section Scripts {
    <script>
        $(function () {
            $('#pagination').pagination({
                items: @total,
                itemsOnPage: 12,
                currentPage: @pageIndex,
                prevText: '@T("ls_Previouspage")',
                nextText: '@T("ls_Nextpage")',
                displayedPages: $(window).width() < 768 ? 1 : 3,
                onPageClick: function (pageNumber, event) {
                    window.location.href = "/@CurrentLanguage/article/list?@Html.Raw(categoryId > 0 ? $"cId={categoryId}&" : "")@Html.Raw(tagId > 0 ? $"tagId={tagId}&" : "")page=" + pageNumber + "@Html.Raw(!string.IsNullOrWhiteSpace(keyword) ? $"&keyword={keyword}" : "")";
                }
            })
        })
    </script>
}
}